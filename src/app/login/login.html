<div class="login">
  <aside class="login__brand">
    <div class="login__brand-content">
      <div class="login__logo">
        <svg viewBox="0 0 48 48" fill="none" xmlns="http://www.w3.org/2000/svg" aria-hidden="true">
          <rect width="48" height="48" rx="8" fill="var(--color-steel-blue)" opacity="0.9"/>
          <text x="24" y="30" text-anchor="middle" fill="white" font-size="18" font-weight="700" font-family="system-ui">NIT</text>
        </svg>
      </div>
      <h1 class="login__title">NIT Jamshedpur</h1>
      <p class="login__subtitle">Placement Analytics</p>
      <blockquote class="login__quote">
        "Building the future of Jamshedpur â€” one placement at a time."
      </blockquote>
    </div>
  </aside>

  <main class="login__form-section">
    <div class="login__form-wrapper login__form-wrapper--fade-in">
      <h2 class="login__form-title">{{ isLoginMode() ? 'Welcome back' : 'Create account' }}</h2>
      <p class="login__form-hint">{{ isLoginMode() ? 'Sign in to access the placement dashboard' : 'Register to get started' }}</p>

      <form class="login__form" (ngSubmit)="handleSubmit()">
        @if (!isLoginMode()) {
          <div class="login__field">
            <input
              type="text"
              id="name"
              class="login__input"
              [(ngModel)]="candidateName"
              name="name"
              placeholder=" "
            />
            <label class="login__label" for="name">Name</label>
          </div>
        }

        <div class="login__field">
          <input
            type="email"
            id="email"
            class="login__input"
            [(ngModel)]="email"
            name="email"
            placeholder=" "
          />
          <label class="login__label" for="email">Email</label>
          @if (email && !isEmailValid) {
            <span class="login__hint">Please enter a valid email (e.g. user&#64;example.com)</span>
          }
        </div>

        <div class="login__field">
          <input
            type="password"
            id="password"
            class="login__input"
            [(ngModel)]="password"
            name="password"
            placeholder=" "
          />
          <label class="login__label" for="password">Password</label>
          @if (password && !isPasswordValid) {
            <span class="login__hint">Password must be at least 8 characters with uppercase, lowercase, and number.</span>
          }
        </div>



        <button
          type="submit"
          class="login__submit"
          [disabled]="isSubmitting() || !canSubmit"
        >
          @if (isSubmitting()) {
            <span class="login__submit-text">Verifying Credentials...</span>
          } @else {
            {{ isLoginMode() ? 'Sign in' : 'Register' }}
          }
        </button>

        @if (showTimeoutBypass()) {
          <button
            type="button"
            class="login__bypass"
            (click)="enterDashboardAnyway()"
          >
            Entering Dashboard anyway...
          </button>
        }
      </form>

      <button type="button" class="login__toggle" (click)="switchMode()">
        {{ isLoginMode() ? "Don't have an account? Sign up" : 'Already have an account? Sign in' }}
      </button>
    </div>
  </main>
</div>
